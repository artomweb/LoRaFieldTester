<!DOCTYPE html>
<html lang="en" data-theme="cupcake">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdn.socket.io/4.7.4/socket.io.min.js"
      integrity="sha384-Gr6Lu2Ajx28mzwyVR8CFkULdCU7kMlZ9UthllibdOSo6qAiN+yXNHqtgdTvFXMT4"
      crossorigin="anonymous"></script>

    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script
      lang="text/javascript"
      src="https://unpkg.com/simple-web-serial@latest/dist/simple-web-serial.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />

    <script src="https://use.ntpjs.org/ntp.js" async defer></script>

    <link href="styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="toast.css" />

    <style>
      @font-face {
        font-family: Futura;
        src: url("./fonts/Futura-Medium.woff") format("WOFF");
        font-weight: normal;
      }

      @font-face {
        font-family: Futura;
        src: url("./fonts/Futura-Bold.woff") format("WOFF");
        font-weight: 700;
      }
      [x-cloak] {
        display: none;
      }
    </style>

    <title>LoRa Field Tester</title>
  </head>
  <body>
    <div class="container mx-auto px-4 overflow-x-auto">
      <div x-data="state()" class="mt-6 mb-36 flex flex-col items-center gap-8">
        <h1
          class="text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl text-center">
          LoRa field tester
        </h1>

        <ul class="notifications flex z-50"></ul>
        <div class="min-w-full">
          <div
            class="flex justify-center max-w-2xl mx-auto px-4 flex-col space-y-8 items-center">
            <svg viewBox="0 0 222 104">
              <defs id="defs1" />
              <g id="layer1">
                <rect
                  @click="connectClient('pong')"
                  style="
                    fill-opacity: 1;
                    stroke: #000000;
                    stroke-width: 0.813535;
                    stroke-linejoin: round;
                    stroke-dasharray: none;
                    stroke-dashoffset: 0;
                    cursor: pointer;
                  "
                  id="rect9"
                  width="54.737694"
                  height="76.548492"
                  x="106.14706"
                  y="17.159822"
                  ry="5.3097224"
                  :class="{ 'fill-green-400':  state.clientPong.socketID !== null && state.clientPong.socketID === socket.id, 'fill-cyan-400':    state.clientPong.socketID !== null && state.clientPong.socketID !== socket.id, 'fill-rose-400':   state.clientPong.socketID == null}" />
                <rect
                  @click="connectClient('ping')"
                  style="
                    fill-opacity: 1;
                    stroke: #000000;
                    stroke-width: 0.813535;
                    stroke-linejoin: round;
                    stroke-dasharray: none;
                    stroke-dashoffset: 0;
                    cursor: pointer;
                  "
                  id="rect4"
                  width="54.737694"
                  height="76.548492"
                  x="8.4738617"
                  y="17.159853"
                  ry="5.3097224"
                  :class="{ 'fill-green-400':  state.clientPing.socketID !== null && state.clientPing.socketID === socket.id, 'fill-cyan-400':    state.clientPing.socketID !== null && state.clientPing.socketID !== socket.id, 'fill-rose-400':   state.clientPing.socketID == null}" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1;
                    stroke-linejoin: round;
                    stroke-dasharray: none;
                  "
                  id="rect1"
                  width="65.634415"
                  height="94.122536"
                  x="3.0255008"
                  y="4.9387321"
                  ry="6.5287304" />
                <path
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                  d="M 2.6004054,13.282744 H 68.839841"
                  id="path1" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 0.615;
                    stroke-linejoin: round;
                    stroke-dasharray: 1.845, 1.845;
                    stroke-dashoffset: 0;
                  "
                  id="rect2"
                  width="46.32692"
                  height="24.362658"
                  x="12.679247"
                  y="20.464357"
                  ry="2.1422176" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 0.615127;
                    stroke-linejoin: round;
                    stroke-dasharray: 1.84538, 1.84538;
                    stroke-dashoffset: 0;
                  "
                  id="rect3"
                  width="46.32692"
                  height="24.362658"
                  x="12.679247"
                  y="66.041122"
                  ry="2.1422176" />
                <path
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1.065;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-dasharray: 1.065, 1.065;
                    stroke-dashoffset: 0;
                    stroke-opacity: 1;
                  "
                  d="M 36.209167,44.864632 V 66.157587"
                  id="path5" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1;
                    stroke-linejoin: round;
                    stroke-dasharray: none;
                  "
                  id="rect5"
                  width="118.18944"
                  height="94.706421"
                  x="100.78506"
                  y="4.6467896"
                  ry="6.569231" />
                <path
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                  d="M 100.1935,12.902083 H 219.46319"
                  id="path6" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 0.615127;
                    stroke-linejoin: round;
                    stroke-dasharray: 1.84538, 1.84538;
                    stroke-dashoffset: 0;
                  "
                  id="rect6"
                  width="46.32692"
                  height="24.362658"
                  x="110.34999"
                  y="20.464357"
                  ry="2.1422176" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 0.615127;
                    stroke-linejoin: round;
                    stroke-dasharray: 1.84538, 1.84538;
                    stroke-dashoffset: 0;
                  "
                  id="rect7"
                  width="46.32692"
                  height="24.362658"
                  x="110.34999"
                  y="66.041122"
                  ry="2.1422176" />
                <rect
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 0.615;
                    stroke-linejoin: round;
                    stroke-dasharray: none;
                    stroke-dashoffset: 0;
                  "
                  id="rect8"
                  width="46.32692"
                  height="24.362658"
                  x="167.38484"
                  y="43.252739"
                  ry="2.1422176" />
                <path
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1.065;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-dasharray: 1.065, 1.065;
                    stroke-dashoffset: 0;
                    stroke-opacity: 1;
                  "
                  d="M 133.87991,44.864632 V 66.157587"
                  id="path9" />
                <path
                  style="
                    fill: none;
                    stroke: #000000;
                    stroke-width: 1.62757;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-dasharray: 1.62757, 1.62757;
                    stroke-dashoffset: 0;
                    stroke-opacity: 1;
                  "
                  d="M 69.669014,53.866639 H 100.9319"
                  id="path11" />
                <path
                  style="
                    font-weight: bold;
                    font-size: 5.64444px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura, Bold';
                    letter-spacing: 0px;
                    stroke-width: 0.47817;
                  "
                  d="m 19.04485,9.4214994 h 0.112889 c 0.361244,0 0.908754,-0.0508 0.908754,0.4628441 0,0.4684885 -0.553155,0.4515555 -0.880532,0.4515555 H 19.04485 Z m 0.59831,1.7610656 c 0.778933,0 1.540933,-0.293511 1.540933,-1.1853327 0,-0.5926662 -0.259645,-1.0047104 -0.869244,-1.0837325 v -0.011289 c 0.344311,-0.1749776 0.468488,-0.4854218 0.468488,-0.8692438 0,-0.8127994 -0.507999,-1.1063103 -1.264354,-1.1063103 H 17.938539 V 11.182565 Z M 19.04485,7.7733229 h 0.07902 c 0.299155,0 0.643466,0.022578 0.643466,0.4120441 0,0.3612442 -0.3048,0.4120441 -0.598311,0.4120441 H 19.04485 Z m 4.205108,1.3095101 c 0.417688,0 0.660399,0.2991553 0.660399,0.6547551 0,0.3668889 -0.242711,0.6491109 -0.660399,0.6491109 -0.417689,0 -0.6604,-0.282222 -0.6604,-0.6491109 0,-0.3555998 0.242711,-0.6547551 0.6604,-0.6547551 z m 1.653821,-0.7958661 h -1.027288 v 0.282222 C 23.662002,8.3151891 23.312047,8.1910114 22.979025,8.1910114 c -0.857955,0 -1.450621,0.7111995 -1.450621,1.5409322 0,0.8297324 0.603955,1.5465764 1.46191,1.5465764 0.338666,0 0.694266,-0.129822 0.874888,-0.417688 h 0.01129 v 0.321733 h 1.027288 z m 2.940749,0.090311 C 27.545372,8.2418114 27.217995,8.1910114 26.890617,8.1910114 c -0.632177,0 -1.275643,0.3160887 -1.275643,1.0272882 0,0.5192885 0.321733,0.6773328 0.643466,0.7619994 0.321733,0.084667 0.643466,0.095955 0.643466,0.321733 0,0.158044 -0.191911,0.220133 -0.321733,0.220133 -0.254,0 -0.603955,-0.146755 -0.812799,-0.293511 l -0.372534,0.716844 c 0.349956,0.214489 0.756355,0.333022 1.1684,0.333022 0.671688,0 1.365954,-0.316088 1.365954,-1.078088 0,-0.5362217 -0.361244,-0.7619993 -0.841021,-0.8579548 -0.141111,-0.028222 -0.462845,-0.056444 -0.462845,-0.2539998 0,-0.1467554 0.2032,-0.1975554 0.321734,-0.1975554 0.174977,0 0.39511,0.056444 0.553155,0.141111 z m 1.467557,0.936977 c 0.06209,-0.2991553 0.310445,-0.4571996 0.6096,-0.4571996 0.276578,0 0.530577,0.1806221 0.581377,0.4571996 z m 2.144888,0.4854219 c 0,-0.987777 -0.581378,-1.6086655 -1.586088,-1.6086655 -0.942622,0 -1.603021,0.5813774 -1.603021,1.5465767 0,0.9990659 0.716844,1.5409319 1.676399,1.5409319 0.660399,0 1.30951,-0.310444 1.473199,-0.993421 h -0.987777 c -0.112889,0.191911 -0.270934,0.265288 -0.491067,0.265288 -0.423333,0 -0.643466,-0.225777 -0.643466,-0.6434657 h 2.161821 z M 36.661152,7.1637233 C 36.282975,6.9492346 35.758042,6.813768 35.329064,6.813768 c -0.85231,0 -1.467554,0.5644441 -1.467554,1.4280434 0,0.8240883 0.457199,1.0047104 1.151466,1.2022658 0.237066,0.067733 0.671688,0.1749776 0.671688,0.4854218 0,0.299155 -0.276578,0.428977 -0.536222,0.428977 -0.378177,0 -0.705555,-0.197555 -0.982132,-0.4402659 l -0.474133,0.8918219 c 0.434621,0.304799 0.959554,0.485422 1.495776,0.485422 0.428978,0 0.874888,-0.118534 1.20791,-0.400756 0.338667,-0.287866 0.440267,-0.722488 0.440267,-1.1458211 0,-0.6886217 -0.4572,-0.987777 -1.049866,-1.1627546 L 35.504042,8.5014557 C 35.312131,8.4393668 35.012976,8.3434113 35.012976,8.095056 c 0,-0.2370665 0.270933,-0.3555998 0.474133,-0.3555998 0.270933,0 0.530577,0.1128888 0.733777,0.282222 z M 38.461723,9.133633 H 39.0431 V 8.2869669 H 38.461723 V 7.4177231 H 37.434435 V 8.2869669 H 37.101413 V 9.133633 h 0.333022 v 2.048932 h 1.027288 z m 2.42147,-0.0508 c 0.417688,0 0.660399,0.2991553 0.660399,0.6547551 0,0.3668889 -0.242711,0.6491109 -0.660399,0.6491109 -0.417689,0 -0.6604,-0.282222 -0.6604,-0.6491109 0,-0.3555998 0.242711,-0.6547551 0.6604,-0.6547551 z m 1.653821,-0.7958661 h -1.027288 v 0.282222 C 41.295237,8.3151891 40.945282,8.1910114 40.61226,8.1910114 c -0.857955,0 -1.450621,0.7111995 -1.450621,1.5409322 0,0.8297324 0.603955,1.5465764 1.46191,1.5465764 0.338666,0 0.694266,-0.129822 0.874888,-0.417688 h 0.01129 v 0.321733 h 1.027288 z m 1.806215,0.8466661 h 0.581377 V 8.2869669 H 44.343229 V 7.4177231 H 43.315941 V 8.2869669 H 42.982919 V 9.133633 h 0.333022 v 2.048932 h 1.027288 z m 1.936046,-0.8466661 h -1.027288 v 2.8955981 h 1.027288 z M 45.765631,6.5992793 c -0.316089,0 -0.575733,0.2596443 -0.575733,0.5757329 0,0.3160887 0.259644,0.5757329 0.575733,0.5757329 0.316089,0 0.575733,-0.2596442 0.575733,-0.5757329 0,-0.3160886 -0.259644,-0.5757329 -0.575733,-0.5757329 z m 2.720622,1.5917321 c -0.931333,0 -1.744133,0.5587996 -1.744133,1.5465767 0,0.9877769 0.818444,1.5409319 1.744133,1.5409319 0.931332,0 1.744132,-0.558799 1.744132,-1.5409319 0,-0.9877771 -0.8128,-1.5465767 -1.744132,-1.5465767 z m 0,0.8918216 c 0.417688,0 0.660399,0.2991553 0.660399,0.6547551 0,0.3668889 -0.242711,0.6491109 -0.660399,0.6491109 -0.417689,0 -0.6604,-0.282222 -0.6604,-0.6491109 0,-0.3555998 0.242711,-0.6547551 0.6604,-0.6547551 z m 3.234268,-0.7958661 h -1.027288 v 2.8955981 h 1.027288 V 9.6811436 c 0,-0.3612441 0.118533,-0.6716883 0.536222,-0.6716883 0.508,0 0.462844,0.4854218 0.462844,0.7619994 v 1.4111103 h 1.027288 V 9.3932772 c 0,-0.7111995 -0.310444,-1.2022658 -1.089377,-1.2022658 -0.400755,0 -0.688622,0.1185333 -0.925688,0.4684886 h -0.01129 z"
                  id="text9"
                  aria-label="Base Station" />
                <path
                  style="
                    font-weight: bold;
                    font-size: 5.64444px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura, Bold';
                    letter-spacing: 0px;
                    stroke-width: 0.47817;
                  "
                  d="m 139.71305,11.233365 h 1.10066 l 0.3556,-2.449687 h 0.0113 l 0.97649,2.449687 h 0.44027 L 143.619,8.783678 h 0.0113 l 0.31044,2.449687 h 1.10631 l -0.64346,-4.2559078 h -1.10067 l -0.9144,2.2747094 -0.8636,-2.2747094 h -1.08937 z m 7.30955,-2.9915532 c -0.93134,0 -1.74413,0.5587995 -1.74413,1.5465766 0,0.9877766 0.81844,1.5409326 1.74413,1.5409326 0.93133,0 1.74413,-0.5588 1.74413,-1.5409326 0,-0.9877771 -0.8128,-1.5465766 -1.74413,-1.5465766 z m 0,0.8918215 c 0.41769,0 0.6604,0.2991553 0.6604,0.6547551 0,0.3668886 -0.24271,0.6491106 -0.6604,0.6491106 -0.41769,0 -0.6604,-0.282222 -0.6604,-0.6491106 0,-0.3555998 0.24271,-0.6547551 0.6604,-0.6547551 z m 2.17311,2.0997317 h 1.02729 v -0.321733 h 0.0113 c 0.18626,0.287866 0.53622,0.417689 0.87489,0.417689 0.8636,0 1.46191,-0.7112 1.46191,-1.5465771 0,-0.8297327 -0.59267,-1.5409321 -1.45063,-1.5409321 -0.33302,0 -0.67733,0.1241777 -0.89746,0.3781775 V 6.5484797 h -1.02729 z m 1.65382,-2.0997317 c 0.41769,0 0.6604,0.2991553 0.6604,0.6547551 0,0.3668886 -0.24271,0.6491106 -0.6604,0.6491106 -0.41769,0 -0.6604,-0.282222 -0.6604,-0.6491106 0,-0.3555998 0.24271,-0.6547551 0.6604,-0.6547551 z m 3.25684,-0.7958661 h -1.02729 v 2.8955978 h 1.02729 z m -0.51364,-1.6876876 c -0.31609,0 -0.57574,0.2596443 -0.57574,0.5757329 0,0.3160887 0.25965,0.5757329 0.57574,0.5757329 0.31608,0 0.57573,-0.2596442 0.57573,-0.5757329 0,-0.3160886 -0.25965,-0.5757329 -0.57573,-0.5757329 z m 2.21826,-0.1015999 h -1.02729 v 4.6848853 h 1.02729 z m 1.50707,2.8165757 c 0.0621,-0.2991554 0.31044,-0.4571997 0.60959,-0.4571997 0.27658,0 0.53058,0.1806221 0.58138,0.4571997 z m 2.14488,0.4854218 c 0,-0.987777 -0.58137,-1.6086654 -1.58609,-1.6086654 -0.94262,0 -1.60302,0.5813773 -1.60302,1.5465766 0,0.9990656 0.71685,1.5409326 1.6764,1.5409326 0.6604,0 1.30951,-0.310445 1.4732,-0.993422 h -0.98778 c -0.11288,0.191911 -0.27093,0.265289 -0.49106,0.265289 -0.42333,0 -0.64347,-0.225778 -0.64347,-0.6434664 h 2.16182 z m 5.20418,-2.6359535 c -0.37817,-0.2144888 -0.90311,-0.3499553 -1.33208,-0.3499553 -0.85232,0 -1.46756,0.564444 -1.46756,1.4280433 0,0.8240883 0.4572,1.0047104 1.15147,1.2022658 0.23706,0.067733 0.67168,0.1749776 0.67168,0.4854218 0,0.2991557 -0.27657,0.4289777 -0.53622,0.4289777 -0.37817,0 -0.70555,-0.197556 -0.98213,-0.4402665 l -0.47413,0.8918215 c 0.43462,0.3048 0.95955,0.485422 1.49577,0.485422 0.42898,0 0.87489,-0.118533 1.20791,-0.400755 0.33867,-0.287867 0.44027,-0.722489 0.44027,-1.1458217 0,-0.6886217 -0.4572,-0.9877771 -1.04987,-1.1627547 l -0.28222,-0.084667 c -0.19191,-0.062089 -0.49106,-0.1580443 -0.49106,-0.4063997 0,-0.2370665 0.27093,-0.3555997 0.47413,-0.3555997 0.27093,0 0.53058,0.1128888 0.73378,0.282222 z m 1.80057,1.9699096 h 0.58138 V 8.3377672 h -0.58138 V 7.4685235 h -1.02728 v 0.8692437 h -0.33303 v 0.8466661 h 0.33303 v 2.0489317 h 1.02728 z m 2.42147,-0.0508 c 0.41769,0 0.6604,0.2991553 0.6604,0.6547551 0,0.3668886 -0.24271,0.6491106 -0.6604,0.6491106 -0.41769,0 -0.6604,-0.282222 -0.6604,-0.6491106 0,-0.3555998 0.24271,-0.6547551 0.6604,-0.6547551 z m 1.65382,-0.7958661 h -1.02728 v 0.2822221 c -0.21449,-0.2539998 -0.56445,-0.3781775 -0.89747,-0.3781775 -0.85796,0 -1.45062,0.7111994 -1.45062,1.5409321 0,0.8297331 0.60395,1.5465771 1.46191,1.5465771 0.33867,0 0.69426,-0.129823 0.87489,-0.417689 h 0.0113 v 0.321733 h 1.02728 z m 1.80622,0.8466661 h 0.58138 V 8.3377672 H 172.3492 V 7.4685235 h -1.02729 v 0.8692437 h -0.33302 v 0.8466661 h 0.33302 v 2.0489317 h 1.02729 z m 1.93605,-0.8466661 h -1.02729 v 2.8955978 h 1.02729 z M 173.7716,6.6500796 c -0.31609,0 -0.57573,0.2596443 -0.57573,0.5757329 0,0.3160887 0.25964,0.5757329 0.57573,0.5757329 0.31609,0 0.57574,-0.2596442 0.57574,-0.5757329 0,-0.3160886 -0.25965,-0.5757329 -0.57574,-0.5757329 z m 2.72062,1.5917322 c -0.93133,0 -1.74413,0.5587995 -1.74413,1.5465766 0,0.9877766 0.81844,1.5409326 1.74413,1.5409326 0.93134,0 1.74413,-0.5588 1.74413,-1.5409326 0,-0.9877771 -0.81279,-1.5465766 -1.74413,-1.5465766 z m 0,0.8918215 c 0.41769,0 0.6604,0.2991553 0.6604,0.6547551 0,0.3668886 -0.24271,0.6491106 -0.6604,0.6491106 -0.41769,0 -0.6604,-0.282222 -0.6604,-0.6491106 0,-0.3555998 0.24271,-0.6547551 0.6604,-0.6547551 z m 3.23427,-0.7958661 h -1.02729 v 2.8955978 h 1.02729 V 9.731944 c 0,-0.3612442 0.11854,-0.6716884 0.53622,-0.6716884 0.508,0 0.46285,0.4854218 0.46285,0.7619994 v 1.41111 h 1.02729 V 9.4440775 c 0,-0.7111994 -0.31045,-1.2022657 -1.08938,-1.2022657 -0.40076,0 -0.68862,0.1185332 -0.92569,0.4684885 h -0.0113 z"
                  id="text10"
                  aria-label="Mobile Station" />
                <path
                  style="
                    font-weight: 500;
                    font-size: 7.34886px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura Medium';
                    letter-spacing: 0px;
                    stroke-width: 0.393689;
                  "
                  d="m 18.708833,32.109222 h 0.396838 c 1.050887,0 1.940099,-0.448281 1.940099,-1.61675 0,-1.014142 -0.529118,-1.602051 -2.234053,-1.602051 H 18.01804 v 5.54104 h 0.690793 z m 0,-2.601497 h 0.183721 c 0.683444,0 1.506517,0.102884 1.506517,0.97005 0,0.881863 -0.764282,1.014142 -1.469772,1.014142 h -0.220466 z m 3.681785,1.48447 H 21.72922 v 3.439266 h 0.661398 z m -0.330699,-2.035634 c -0.249861,0 -0.455629,0.205768 -0.455629,0.462978 0,0.249861 0.205768,0.44828 0.455629,0.44828 0.249861,0 0.455629,-0.198419 0.455629,-0.44828 0,-0.25721 -0.205768,-0.462978 -0.455629,-0.462978 z m 2.05033,2.035634 h -0.661397 v 3.439266 h 0.661397 v -1.580005 c 0,-0.624653 0,-1.374236 0.852468,-1.374236 0.676095,0 0.756932,0.396838 0.756932,0.984747 v 1.969494 h 0.661398 v -2.050332 c 0,-0.83777 -0.249862,-1.491818 -1.219911,-1.491818 -0.418885,0 -0.830421,0.198419 -1.036189,0.565862 h -0.0147 z m 4.659182,2.968939 c -0.698141,0 -1.087631,-0.602606 -1.087631,-1.249306 0,-0.639351 0.404188,-1.234608 1.087631,-1.234608 0.71284,0 1.117027,0.565862 1.117027,1.234608 0,0.676095 -0.396838,1.249306 -1.117027,1.249306 z m 1.74168,-2.968939 h -0.661397 v 0.587909 h -0.0147 c -0.271908,-0.426234 -0.683444,-0.690793 -1.197864,-0.690793 -0.992096,0 -1.616749,0.859817 -1.616749,1.800471 0,0.984747 0.587909,1.859261 1.646144,1.859261 0.485025,0 0.90391,-0.264559 1.168469,-0.654048 h 0.0147 v 0.654048 c 0,0.705491 -0.169024,1.264004 -0.984747,1.264004 -0.602607,0 -1.028841,-0.352745 -1.028841,-0.97005 h -0.661397 c 0.0147,0.97005 0.70549,1.557959 1.660842,1.557959 1.337493,0 1.67554,-0.852468 1.67554,-2.035634 z m 3.747918,-2.101774 h -0.690793 v 5.54104 h 2.373681 v -0.632002 h -1.682888 z m 3.549501,5.070713 c -0.698142,0 -1.087631,-0.602606 -1.087631,-1.249306 0,-0.639351 0.404187,-1.234608 1.087631,-1.234608 0.712839,0 1.117027,0.565862 1.117027,1.234608 0,0.676095 -0.396839,1.249306 -1.117027,1.249306 z m 1.74168,-2.968939 h -0.661398 v 0.573211 h -0.0147 c -0.271908,-0.411536 -0.683444,-0.676095 -1.190516,-0.676095 -0.999444,0 -1.624098,0.859817 -1.624098,1.800471 0,0.984747 0.595258,1.859261 1.646145,1.859261 0.492374,0 0.90391,-0.264559 1.168469,-0.654048 h 0.0147 v 0.536466 h 0.661398 z m 2.520657,2.968939 c -0.698142,0 -1.087631,-0.602606 -1.087631,-1.249306 0,-0.639351 0.404187,-1.234608 1.087631,-1.234608 0.712839,0 1.117027,0.565862 1.117027,1.234608 0,0.676095 -0.396839,1.249306 -1.117027,1.249306 z M 41.01998,30.992195 h -0.661397 v 5.408761 h 0.661397 v -2.505961 h 0.0147 c 0.264559,0.389489 0.683444,0.654048 1.168468,0.654048 1.058236,0 1.646145,-0.874514 1.646145,-1.859261 0,-0.940654 -0.624653,-1.800471 -1.616749,-1.800471 -0.51442,0 -0.925957,0.264559 -1.197864,0.676095 h -0.0147 z m 4.232941,0.617304 h 0.6467 v -0.617304 h -0.6467 v -1.315446 h -0.661397 v 1.315446 H 44.23143 v 0.617304 h 0.360094 v 2.821962 h 0.661397 z m 2.535354,-0.720188 c -1.02884,0 -1.837215,0.793677 -1.837215,1.829866 0,1.036189 0.808375,1.829866 1.837215,1.829866 1.02884,0 1.837215,-0.793677 1.837215,-1.829866 0,-1.036189 -0.808375,-1.829866 -1.837215,-1.829866 z m 0,0.632002 c 0.654049,0 1.175818,0.543815 1.175818,1.197864 0,0.6467 -0.521769,1.197864 -1.175818,1.197864 -0.654049,0 -1.175818,-0.551164 -1.175818,-1.197864 0,-0.654049 0.521769,-1.197864 1.175818,-1.197864 z m 4.100673,2.439821 c -0.698142,0 -1.087631,-0.602606 -1.087631,-1.249306 0,-0.639351 0.404187,-1.234608 1.087631,-1.234608 0.712839,0 1.117027,0.565862 1.117027,1.234608 0,0.676095 -0.396839,1.249306 -1.117027,1.249306 z m -1.050887,-2.968939 h -0.661398 v 5.408761 h 0.661398 v -2.505961 h 0.0147 c 0.264559,0.389489 0.683444,0.654048 1.168468,0.654048 1.058236,0 1.646145,-0.874514 1.646145,-1.859261 0,-0.940654 -0.624653,-1.800471 -1.616749,-1.800471 -0.51442,0 -0.925957,0.264559 -1.197864,0.676095 h -0.0147 z"
                  id="text11"
                  aria-label="Ping Laptop" />
                <path
                  style="
                    font-weight: 500;
                    font-size: 7.34886px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura Medium';
                    letter-spacing: 0px;
                    stroke-width: 0.393689;
                  "
                  d="m 115.32869,32.109222 h 0.39684 c 1.05089,0 1.9401,-0.448281 1.9401,-1.61675 0,-1.014142 -0.52912,-1.602051 -2.23406,-1.602051 h -0.79367 v 5.54104 h 0.69079 z m 0,-2.601497 h 0.18372 c 0.68345,0 1.50652,0.102884 1.50652,0.97005 0,0.881863 -0.76428,1.014142 -1.46977,1.014142 h -0.22047 z m 4.40197,1.381586 c -1.02884,0 -1.83721,0.793677 -1.83721,1.829866 0,1.036189 0.80837,1.829866 1.83721,1.829866 1.02884,0 1.83722,-0.793677 1.83722,-1.829866 0,-1.036189 -0.80838,-1.829866 -1.83722,-1.829866 z m 0,0.632002 c 0.65405,0 1.17582,0.543815 1.17582,1.197864 0,0.6467 -0.52177,1.197864 -1.17582,1.197864 -0.65404,0 -1.17581,-0.551164 -1.17581,-1.197864 0,-0.654049 0.52177,-1.197864 1.17581,-1.197864 z m 3.10123,-0.529118 h -0.6614 v 3.439266 h 0.6614 v -1.580005 c 0,-0.624653 0,-1.374236 0.85247,-1.374236 0.67609,0 0.75693,0.396838 0.75693,0.984747 v 1.969494 h 0.6614 v -2.050332 c 0,-0.83777 -0.24986,-1.491818 -1.21991,-1.491818 -0.41889,0 -0.83042,0.198419 -1.03619,0.565862 h -0.0147 z m 4.65918,2.968939 c -0.69814,0 -1.08763,-0.602606 -1.08763,-1.249306 0,-0.639351 0.40419,-1.234608 1.08763,-1.234608 0.71284,0 1.11703,0.565862 1.11703,1.234608 0,0.676095 -0.39684,1.249306 -1.11703,1.249306 z m 1.74168,-2.968939 h -0.6614 v 0.587909 h -0.0147 c -0.27191,-0.426234 -0.68345,-0.690793 -1.19787,-0.690793 -0.99209,0 -1.61675,0.859817 -1.61675,1.800471 0,0.984747 0.58791,1.859261 1.64615,1.859261 0.48502,0 0.90391,-0.264559 1.16847,-0.654048 h 0.0147 v 0.654048 c 0,0.705491 -0.16902,1.264004 -0.98474,1.264004 -0.60261,0 -1.02884,-0.352745 -1.02884,-0.97005 h -0.6614 c 0.0147,0.97005 0.70549,1.557959 1.66084,1.557959 1.33749,0 1.67554,-0.852468 1.67554,-2.035634 z m 3.74792,-2.101774 h -0.69079 v 5.54104 h 2.37368 v -0.632002 h -1.68289 z m 3.5495,5.070713 c -0.69814,0 -1.08763,-0.602606 -1.08763,-1.249306 0,-0.639351 0.40419,-1.234608 1.08763,-1.234608 0.71284,0 1.11703,0.565862 1.11703,1.234608 0,0.676095 -0.39684,1.249306 -1.11703,1.249306 z m 1.74168,-2.968939 h -0.6614 v 0.573211 h -0.0147 c -0.2719,-0.411536 -0.68344,-0.676095 -1.19051,-0.676095 -0.99945,0 -1.6241,0.859817 -1.6241,1.800471 0,0.984747 0.59526,1.859261 1.64615,1.859261 0.49237,0 0.90391,-0.264559 1.16846,-0.654048 h 0.0147 v 0.536466 h 0.6614 z m 2.52066,2.968939 c -0.69815,0 -1.08763,-0.602606 -1.08763,-1.249306 0,-0.639351 0.40418,-1.234608 1.08763,-1.234608 0.71284,0 1.11702,0.565862 1.11702,1.234608 0,0.676095 -0.39684,1.249306 -1.11702,1.249306 z m -1.05089,-2.968939 h -0.6614 v 5.408761 h 0.6614 v -2.505961 h 0.0147 c 0.26456,0.389489 0.68344,0.654048 1.16847,0.654048 1.05823,0 1.64614,-0.874514 1.64614,-1.859261 0,-0.940654 -0.62465,-1.800471 -1.61675,-1.800471 -0.51442,0 -0.92595,0.264559 -1.19786,0.676095 h -0.0147 z m 4.23294,0.617304 h 0.6467 v -0.617304 h -0.6467 v -1.315446 h -0.6614 v 1.315446 h -0.36009 v 0.617304 h 0.36009 v 2.821962 h 0.6614 z m 2.53536,-0.720188 c -1.02884,0 -1.83722,0.793677 -1.83722,1.829866 0,1.036189 0.80838,1.829866 1.83722,1.829866 1.02884,0 1.83721,-0.793677 1.83721,-1.829866 0,-1.036189 -0.80837,-1.829866 -1.83721,-1.829866 z m 0,0.632002 c 0.65405,0 1.17581,0.543815 1.17581,1.197864 0,0.6467 -0.52176,1.197864 -1.17581,1.197864 -0.65405,0 -1.17582,-0.551164 -1.17582,-1.197864 0,-0.654049 0.52177,-1.197864 1.17582,-1.197864 z m 4.10067,2.439821 c -0.69815,0 -1.08764,-0.602606 -1.08764,-1.249306 0,-0.639351 0.40419,-1.234608 1.08764,-1.234608 0.71283,0 1.11702,0.565862 1.11702,1.234608 0,0.676095 -0.39684,1.249306 -1.11702,1.249306 z m -1.05089,-2.968939 h -0.6614 v 5.408761 h 0.6614 v -2.505961 h 0.0147 c 0.26456,0.389489 0.68344,0.654048 1.16847,0.654048 1.05823,0 1.64614,-0.874514 1.64614,-1.859261 0,-0.940654 -0.62465,-1.800471 -1.61675,-1.800471 -0.51442,0 -0.92596,0.264559 -1.19786,0.676095 h -0.0147 z"
                  id="text13"
                  aria-label="Pong Laptop" />
                <path
                  style="
                    font-weight: 500;
                    font-size: 7.34886px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura Medium';
                    letter-spacing: 0px;
                    stroke-width: 0.393689;
                  "
                  d="m 21.703494,77.803569 h 0.396839 c 1.050887,0 1.940099,-0.44828 1.940099,-1.616749 0,-1.014143 -0.529118,-1.602052 -2.234054,-1.602052 h -0.793677 v 5.541041 h 0.690793 z m 0,-2.601496 h 0.183722 c 0.683444,0 1.506516,0.102884 1.506516,0.970049 0,0.881863 -0.764281,1.014143 -1.469772,1.014143 h -0.220466 z m 3.681785,1.484469 h -0.661397 v 3.439267 h 0.661397 z M 25.05458,74.650908 c -0.249861,0 -0.455629,0.205768 -0.455629,0.462978 0,0.249862 0.205768,0.448281 0.455629,0.448281 0.249862,0 0.45563,-0.198419 0.45563,-0.448281 0,-0.25721 -0.205768,-0.462978 -0.45563,-0.462978 z m 2.05033,2.035634 h -0.661397 v 3.439267 h 0.661397 v -1.580005 c 0,-0.624653 0,-1.374237 0.852468,-1.374237 0.676095,0 0.756933,0.396839 0.756933,0.984747 v 1.969495 h 0.661397 v -2.050332 c 0,-0.83777 -0.249861,-1.491819 -1.219911,-1.491819 -0.418885,0 -0.830421,0.19842 -1.036189,0.565863 h -0.0147 z m 4.659183,2.96894 c -0.698142,0 -1.087631,-0.602607 -1.087631,-1.249306 0,-0.639351 0.404187,-1.234609 1.087631,-1.234609 0.712839,0 1.117027,0.565862 1.117027,1.234609 0,0.676095 -0.396839,1.249306 -1.117027,1.249306 z m 1.74168,-2.96894 h -0.661398 v 0.587909 h -0.0147 c -0.271907,-0.426234 -0.683443,-0.690793 -1.197864,-0.690793 -0.992096,0 -1.616749,0.859817 -1.616749,1.800471 0,0.984747 0.587909,1.859261 1.646145,1.859261 0.485025,0 0.90391,-0.264558 1.168468,-0.654048 h 0.0147 v 0.654048 c 0,0.705491 -0.169024,1.264004 -0.984747,1.264004 -0.602607,0 -1.02884,-0.352745 -1.02884,-0.970049 H 30.16939 c 0.0147,0.970049 0.705491,1.557958 1.660843,1.557958 1.337492,0 1.67554,-0.852468 1.67554,-2.035634 z m 5.65862,3.556848 1.660843,-3.777313 h 0.0147 l 0.6467,3.659732 h 0.71284 l -1.131725,-5.776204 -1.903355,4.365223 -1.903354,-4.365223 -1.131725,5.776204 h 0.71284 l 0.646699,-3.659732 h 0.0147 z m 4.343175,-3.255544 v -2.403078 h -0.690793 v 5.541041 h 0.690793 v -2.314891 l 0.279256,-0.264559 2.087076,2.57945 h 0.933306 l -2.535357,-3.049777 2.491263,-2.491264 h -0.903909 z m 5.416112,0.727537 c 0.801026,-0.09553 1.330144,-0.756933 1.330144,-1.55061 0,-0.529118 -0.264559,-1.050887 -0.727537,-1.322794 -0.440932,-0.249862 -0.97005,-0.257211 -1.462423,-0.257211 h -0.83777 v 5.541041 h 0.690792 v -2.344287 h 0.286606 l 1.631447,2.344287 h 0.83777 z m -1.006794,-2.51331 h 0.183722 c 0.683444,0 1.506516,0.12493 1.506516,0.992096 0,0.881863 -0.764281,1.014142 -1.469772,1.014142 h -0.220466 z"
                  id="text12"
                  aria-label="Ping MKR" />
                <path
                  style="
                    font-weight: 500;
                    font-size: 7.34886px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura Medium';
                    letter-spacing: 0px;
                    stroke-width: 0.393689;
                  "
                  d="m 118.32333,77.803569 h 0.39684 c 1.05088,0 1.94009,-0.44828 1.94009,-1.616749 0,-1.014143 -0.52911,-1.602052 -2.23405,-1.602052 h -0.79368 v 5.541041 h 0.6908 z m 0,-2.601496 h 0.18372 c 0.68344,0 1.50651,0.102884 1.50651,0.970049 0,0.881863 -0.76428,1.014143 -1.46977,1.014143 h -0.22046 z m 4.40197,1.381585 c -1.02884,0 -1.83721,0.793677 -1.83721,1.829866 0,1.03619 0.80837,1.829866 1.83721,1.829866 1.02884,0 1.83722,-0.793676 1.83722,-1.829866 0,-1.036189 -0.80838,-1.829866 -1.83722,-1.829866 z m 0,0.632002 c 0.65405,0 1.17582,0.543816 1.17582,1.197864 0,0.6467 -0.52177,1.197865 -1.17582,1.197865 -0.65405,0 -1.17582,-0.551165 -1.17582,-1.197865 0,-0.654048 0.52177,-1.197864 1.17582,-1.197864 z m 3.10123,-0.529118 h -0.6614 v 3.439267 h 0.6614 v -1.580005 c 0,-0.624653 0,-1.374237 0.85246,-1.374237 0.6761,0 0.75694,0.396839 0.75694,0.984747 v 1.969495 h 0.66139 v -2.050332 c 0,-0.83777 -0.24986,-1.491819 -1.21991,-1.491819 -0.41888,0 -0.83042,0.19842 -1.03619,0.565863 h -0.0147 z m 4.65918,2.96894 c -0.69814,0 -1.08763,-0.602607 -1.08763,-1.249306 0,-0.639351 0.40418,-1.234609 1.08763,-1.234609 0.71284,0 1.11702,0.565862 1.11702,1.234609 0,0.676095 -0.39683,1.249306 -1.11702,1.249306 z m 1.74168,-2.96894 h -0.6614 v 0.587909 h -0.0147 c -0.27191,-0.426234 -0.68344,-0.690793 -1.19786,-0.690793 -0.9921,0 -1.61675,0.859817 -1.61675,1.800471 0,0.984747 0.58791,1.859261 1.64614,1.859261 0.48503,0 0.90391,-0.264558 1.16847,-0.654048 h 0.0147 v 0.654048 c 0,0.705491 -0.16902,1.264004 -0.98475,1.264004 -0.6026,0 -1.02884,-0.352745 -1.02884,-0.970049 h -0.66139 c 0.0147,0.970049 0.70549,1.557958 1.66084,1.557958 1.33749,0 1.67554,-0.852468 1.67554,-2.035634 z m 5.65862,3.556848 1.66084,-3.777313 h 0.0147 l 0.6467,3.659732 h 0.71284 l -1.13173,-5.776204 -1.90335,4.365223 -1.90336,-4.365223 -1.13172,5.776204 h 0.71284 l 0.6467,-3.659732 h 0.0147 z m 4.34317,-3.255544 v -2.403078 h -0.69079 v 5.541041 h 0.69079 v -2.314891 l 0.27926,-0.264559 2.08708,2.57945 h 0.9333 l -2.53535,-3.049777 2.49126,-2.491264 h -0.90391 z m 5.41612,0.727537 c 0.80102,-0.09553 1.33014,-0.756933 1.33014,-1.55061 0,-0.529118 -0.26456,-1.050887 -0.72754,-1.322794 -0.44093,-0.249862 -0.97005,-0.257211 -1.46242,-0.257211 h -0.83777 v 5.541041 h 0.69079 v -2.344287 h 0.28661 l 1.63145,2.344287 h 0.83777 z m -1.0068,-2.51331 h 0.18372 c 0.68345,0 1.50652,0.12493 1.50652,0.992096 0,0.881863 -0.76428,1.014142 -1.46977,1.014142 h -0.22047 z"
                  id="text14"
                  aria-label="Pong MKR" />
                <path
                  style="
                    font-weight: 500;
                    font-size: 7.34886px;
                    line-height: 1.25;
                    font-family: Futura;
                    -inkscape-font-specification: 'Futura Medium';
                    letter-spacing: 0px;
                    stroke-width: 0.393689;
                  "
                  d="m 187.30745,55.412019 v 0.632002 h 1.43302 c -0.0294,0.90391 -0.95535,1.646145 -1.81516,1.646145 -1.19787,0 -2.15322,-1.102329 -2.15322,-2.263449 0,-1.241957 0.97005,-2.248751 2.21201,-2.248751 0.67609,0 1.34484,0.360094 1.74168,0.90391 l 0.48502,-0.462978 c -0.54381,-0.683444 -1.39628,-1.072934 -2.2561,-1.072934 -1.5947,0 -2.8734,1.308097 -2.8734,2.9028 0,1.535911 1.2493,2.873404 2.79991,2.873404 1.55061,0 2.62355,-1.168469 2.62355,-2.689683 v -0.220466 z m 3.57155,0.470327 h 0.39684 c 1.05088,0 1.9401,-0.44828 1.9401,-1.616749 0,-1.014142 -0.52912,-1.602051 -2.23406,-1.602051 h -0.79367 v 5.54104 h 0.69079 z m 0,-2.601496 h 0.18372 c 0.68344,0 1.50652,0.102884 1.50652,0.970049 0,0.881864 -0.76429,1.014143 -1.46978,1.014143 H 190.879 Z m 5.95993,0.102884 c -0.3013,-0.536467 -0.80838,-0.83777 -1.42568,-0.83777 -0.83777,0 -1.63145,0.536467 -1.63145,1.433028 0,0.77163 0.57321,1.131724 1.20522,1.403632 l 0.38214,0.161675 c 0.47767,0.198419 0.95535,0.455629 0.95535,1.050887 0,0.58056 -0.42623,1.080282 -1.02149,1.080282 -0.59526,0 -1.08028,-0.440931 -1.07294,-1.050887 l -0.69814,0.146977 c 0.11758,0.889212 0.81573,1.55061 1.71229,1.55061 0.99209,0 1.77107,-0.720188 1.77107,-1.726982 0,-0.925957 -0.58791,-1.359539 -1.37424,-1.668191 l -0.39683,-0.154326 c -0.3454,-0.13228 -0.77163,-0.360095 -0.77163,-0.793677 0,-0.485025 0.48502,-0.786328 0.92595,-0.786328 0.41889,0 0.68345,0.176372 0.88921,0.521769 z"
                  id="text15"
                  aria-label="GPS" />
              </g>
            </svg>
          </div>
        </div>

        <div class="overflow-x-auto shadow-md">
          <table
            class="table min-w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"
            id="editableTable">
            <thead>
              <tr class="bg-base-200 text-center">
                <th rowspan="3"></th>
                <th rowspan="3">Bandwidth</th>
                <th rowspan="3">SF</th>
                <th rowspan="3">TX</th>
                <th colspan="3">Test 1</th>
                <th colspan="3">Test 2</th>
                <th colspan="3">Test 3</th>
              </tr>
              <tr class="bg-base-200">
                <th>RSSI</th>
                <th>SNR</th>
                <th>trip time</th>
                <th>RSSI</th>
                <th>SNR</th>
                <th>trip time</th>
                <th>RSSI</th>
                <th>SNR</th>
                <th>trip time</th>
              </tr>
            </thead>
            <tbody>
              <template x-for="(value, index) in state.testData">
                <tr class="divide-x divide-gray-200 text-center">
                  <th x-text="index+1"></th>
                  <td x-text="value.BW"></td>
                  <td x-text="value.SF"></td>
                  <td x-text="value.TX"></td>
                  <template
                    x-for="(test) in value.tests.flatMap(obj => Object.values(obj));">
                    <td x-text="test"></td>
                  </template>
                </tr>
              </template>
            </tbody>
          </table>
        </div>

        <div class="flex justify-center">
          <button class="btn btn-sm btn-neutral" @click="copyResults()">
            Copy Results
          </button>
        </div>

        <div class="flex flex-row max-w-xl items-center gap-8">
          <label class="form-control min-w-48">
            <div class="label">
              <span class="label-text font-bold">Set parameter timeout</span>
            </div>
            <div class="flex items-center gap-2">
              <input
                @keydown.enter="updateSettings"
                @blur="updateSettings"
                x-model="state.settings.setParamTimeout"
                type="number"
                class="input input-bordered input-sm w-full max-w-36 text-right"
                value="5000" />
              <span class="">ms</span>
            </div>
          </label>
          <label class="form-control w-full max-w-xs min-w-36">
            <div class="label">
              <span class="label-text font-bold">Reply timeout</span>
            </div>
            <div class="flex items-center gap-2">
              <input
                @keydown.enter="updateSettings"
                @blur="updateSettings"
                x-model="state.settings.responseTimeout"
                type="number"
                class="input input-bordered input-sm w-full max-w-36 text-right"
                value="10000" />
              <span class="">ms</span>
            </div>
          </label>
          <label class="form-control w-full max-w-xs min-w-36">
            <div class="label">
              <span class="label-text font-bold">Number of attempts</span>
            </div>
            <div class="flex items-center gap-2">
              <input
                @keydown.enter="updateSettings"
                @blur="updateSettings"
                x-model="state.settings.responseTimeoutRepeats"
                type="number"
                class="input input-bordered input-sm w-full max-w-36 text-right"
                value="3" />
            </div>
          </label>
        </div>
        <div class="flex justify-center gap-8 items-center">
          <button class="btn btn-primary" @click="startTest()">
            Start Test
          </button>
          <button class="btn btn-outline btn-error btn-sm" @click="stopTest()">
            STOP Test
          </button>
        </div>
      </div>
    </div>

    <script src="toast.js"></script>
    <script src="index.js"></script>
  </body>
</html>
